<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>The Accident Guides — Clear, Calm Help After an Accident</title>
  <meta name="description" content="Educational accident guides, checklists, and city-specific resources to help people understand what to do after an accident. No legal advice. No endorsements." />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/css/styles.css" />
</head>

<body>

<header>
  <nav class="global-nav">
    <a href="/" class="brand">The Accident Guides</a>
    <ul class="primary-nav">
      <li><a href="/guides/">Guides</a></li>
      <li><a href="/for-firms/">For Firms</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/contact/">Contact</a></li>
    </ul>
  </nav>
</header>

<main class="content">

  <!-- HERO -->
  <section class="hero">
    <div class="hero-overlay">
      <h1>Clear, Calm Guidance After an Accident</h1>
      <p class="hero-subtext">
        Educational, step-by-step information to help you understand what to do next —
        without legal advice, pressure, or guarantees.
      </p>
    </div>
  </section>

  <!-- INTRO -->
  <section class="page-intro">
    <h2>What This Site Is</h2>
    <p class="lede">
      The Accident Guides is an independent educational resource for people researching
      accidents, injuries, and recovery topics.
    </p>
    <p>
      We publish plain-language guides, timelines, and checklists to help readers
      understand topics they are already looking up — before speaking with a professional.
    </p>
    <p>
      Coverage is organized by city where appropriate. Live cities are linked below as they
      become available.
    </p>
  </section>

  <!-- WHAT YOU CAN DO -->
  <section class="action-list">
    <h2>What You Can Do on This Site</h2>
    <ul>
      <li>
        <a href="/guides/what-to-do-after-a-car-accident/">
          Learn what to do immediately after an accident
        </a>
      </li>
      <li>
        <a href="/guides/evidence-checklist/">
          Follow evidence and documentation checklists
        </a>
      </li>
      <li>
        <a href="/guides/claim-timeline/">
          Understand common injury claim timelines
        </a>
      </li>
      <li>
        <a href="/phoenix/">
          Read city-specific accident guides and resources
        </a>
      </li>
      <li>
        <a href="/phoenix/">
          Research local personal injury law firms
        </a>
      </li>
      <li>
        <a href="/for-firms/">
          View clearly labeled advertising and sponsorship options
        </a>
      </li>
    </ul>
  </section>

  <!-- CITIES -->
  <section class="cities">
    <h2>Cities We Cover</h2>
    <p class="cities-intro">
      <em>
        We publish detailed, city-specific accident guidance where available and are
        expanding coverage to major U.S. cities over time.
      </em>
    </p>

    <!-- JS-rendered city list (prevents dead links) -->
    <ul id="cityList">
      <!-- Minimal no-JS fallback -->
      <li><strong><a href="/phoenix/">Phoenix, AZ</a></strong> — Live</li>
      <li>Las Vegas, NV — Coming soon</li>
      <li>Orlando, FL — Coming soon</li>
      <li>Dallas, TX — Coming soon</li>
      <li>Atlanta, GA — Coming soon</li>
      <li>Memphis, TN — Coming soon</li>
      <li>New York City, NY — Coming soon</li>
      <li>Los Angeles, CA — Coming soon</li>
      <li>Chicago, IL — Coming soon</li>
      <li>Charlotte, NC — Coming soon</li>
      <li>Cleveland, OH — Coming soon</li>
    </ul>

    <p class="cities-note" id="citiesNote">
      Cities are linked when live and available.
    </p>
  </section>

</main>

<footer>
  <p class="footer-note">
    Educational content only. No legal advice. No medical advice.
    No guarantees or endorsements.
  </p>
  <nav class="footer-nav">
    <a href="/disclaimer/">Disclaimer</a>
    <a href="/editorial-policy/">Editorial Policy</a>
    <a href="/privacy/">Privacy</a>
  </nav>
</footer>

<script>
  (function () {
    const listEl = document.getElementById("cityList");
    const noteEl = document.getElementById("citiesNote");

    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, (m) => ({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
      }[m]));
    }

    async function urlExists(path) {
      // Prefer HEAD, but fall back to GET if HEAD is blocked by hosting config.
      try {
        const headRes = await fetch(path, { method: "HEAD", cache: "no-store" });
        if (headRes.ok) return true;
        // Some CDNs return 405 on HEAD; fall through to GET.
      } catch (e) { /* ignore */ }

      try {
        const getRes = await fetch(path, { method: "GET", cache: "no-store" });
        return getRes.ok;
      } catch (e) {
        return false;
      }
    }

    async function renderCities() {
      // Always use a neutral note (no counters)
      if (noteEl) noteEl.textContent = "Cities are linked when live and available.";

      try {
        const res = await fetch("/data/cities.json", { cache: "no-store" });
        if (!res.ok) throw new Error("Failed to load /data/cities.json");
        const data = await res.json();
        const cities = Array.isArray(data.cities) ? data.cities : [];

        // Sort: live first, then coming soon; then alphabetically by name
        cities.sort((a, b) => {
          const aLive = (a.status || "") === "live" ? 0 : 1;
          const bLive = (b.status || "") === "live" ? 0 : 1;
          if (aLive !== bLive) return aLive - bLive;
          return String(a.name || "").localeCompare(String(b.name || ""));
        });

        // Build list: only link if the folder actually exists.
        const items = [];

        for (const c of cities) {
          const slug = (c.slug || "").trim();
          const name = (c.name || "").trim();
          if (!slug || !name) continue;

          const cityPath = `/${slug}/`;
          const exists = await urlExists(cityPath);

          const isConfiguredLive = (c.status || "") === "live";
          const label = exists ? "Live" : (isConfiguredLive ? "Launching" : "Coming soon");

          const safeName = escapeHtml(name);
          const safeLabel = escapeHtml(label);

          if (exists) {
            items.push(`<li><strong><a href="${cityPath}">${safeName}</a></strong> — ${safeLabel}</li>`);
          } else {
            items.push(`<li>${safeName} — ${safeLabel}</li>`);
          }
        }

        // Replace the fallback list only if we successfully rendered items
        if (items.length) {
          listEl.innerHTML = items.join("\n");
        }
      } catch (err) {
        // Keep fallback list; don’t break the page.
        if (noteEl) noteEl.textContent = "Cities are linked when live and available.";
      }
    }

    renderCities();
  })();
</script>

</body>
</html>
